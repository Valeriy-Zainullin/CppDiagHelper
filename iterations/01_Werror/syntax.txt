// ----- Синтаксис №1 -----

Число = "0" | ((1 .. 9) {0 .. 9})
Номер_столбца = Число
Номер_строки = Число

Путь_к_файлу - Строка
Путь_подключения_файла = 
	"In file included from " Путь_к_файлу ":" Номер_строки { ",\n"
	"                 from " Путь_к_файлу ":" Номер_строки } ":".

Символ - любой символ, кроме перевода строки ("\n").
Строка = Символ {Символ} "\n".
Строка_кода = Строка.
Указание = "      |" Строка "\n".
Указания =
	Указание
	{Указание}.
Выдержка_из_кода_с_указаниями = 
	{" "} Номер_строки " |" Строка_кода "\n"
	Указания.

Путь_раскрытия_выражения_в_шаблоне =
	Путь_к_файлу ":" ("In instantiation of " | "In substitution of")  Строка "\n"
	{Путь_к_файлу ":" Номер_строки ":" Номер_столбца ":   required from " Строка "\n"}
	Путь_к_файлу ":" Номер_строки ":" Номер_столбца ":   required from here" "\n".

Ошибка_или_предупреждение - определено позже.
Замечание =
	[Путь_подключения_файла]
	Путь_к_файлу ":" Номер_строки ":" Номер_столбца ": note: " Описание "\n"
	(
		(
			Путь_раскрытия выражения_в_шаблоне
			Ошибка_или_предупреждение
		) |
		Выдержка_из_кода_с_указаниями
	).
Замечания = {Замечание}.

Предупреждение = ": warning: ".	
Ошибка = ": error: ".
Описание = Строка.
Ошибка_или_предупреждение = 
	Путь_к_файлу ":" Номер_строки ":" Номер_столбца (Ошибка | Предупреждение) Описание "\n"
	Выдержка_из_кода_с_указаниями
	Замечания.
Ошибки_или_предупреждения = Ошибка_или_предупреждение {Ошибка_или_предупреждение}.

Символ_сигнатуры_функции - любой символ, кроме перевода строки ("\n") и двоеточия (":"),
одинарной ковычки ("'").
Сигнатура_функции = Символ_сигнатуры_функции {Символ_сигнатуры_функции}.
Диагностика =
	[Путь_подключения_файла]
	(
		(Путь_к_файлу ": In function '" Сигнатура_функции "':\n") |
		Путь_раскрытия_выражения_в_шаблоне
	)
	Ошибки_или_предупреждения.

Вывод = {Диагностика} ["cc1plus: all warnings being treated as errors"] {"\n"}.

Проверка глазами выводов итерации.
E-01.txt подходит под синтаксис.
E-02.txt подходит под синтаксис.
W-01.txt подходит под синтаксис.
W-02.txt подходит под синтаксис.
W-03.txt подходит под синтаксис.

Проблемы: пока не прочитаем путь к файлу, номера строки и столбца, не узнаем,
что перед нами: ошибка, предупреждение или замечание; путь к файлу может быть произвольной строкой,
а тогда может встретиться такой путь, при котором не понятно, закончился ли путь и начался ли
следующий элемент объекта. Попробуем составить другой синтаксис.
В нём будем считать, что замечание относится к последней ошибке или последнему предупреждению 
на момент обработки замечания. Ещё наложим ограничения на путь к файлу.


// ----- Синтаксис №2 -----

Число = "0" | ((1 .. 9) {0 .. 9}).
Номер_столбца = Число.
Номер_строки = Число.

Путь_к_файлу - Строка, не содержащая "In file included from ", ":".
Путь_подключения_файла = 
	"In file included from " Путь_к_файлу ":" Номер_строки { ",\n"
	"                 from " Путь_к_файлу ":" Номер_строки } ":".

Символ - любой символ, кроме перевода строки ("\n").
Строка = Символ {Символ} "\n".
Строка_кода = Строка.
Указание = "      |" Строка "\n".
Указания =
	Указание
	{Указание}.
Выдержка_из_кода_с_указаниями = 
	{" "} Номер_строки " |" Строка_кода "\n"
	Указания.

Путь_раскрытия_выражения_в_шаблоне =
	Путь_к_файлу ":" ("In instantiation of " | "In substitution of")  Строка "\n"
	{Путь_к_файлу ":" Номер_строки ":" Номер_столбца ":   required from " Строка "\n"}
	Путь_к_файлу ":" Номер_строки ":" Номер_столбца ":   required from here" "\n".

Символ_сигнатуры_функции - любой символ, кроме перевода строки ("\n") и двоеточия (":"),
одинарной ковычки ("'").
Сигнатура_функции = Символ_сигнатуры_функции {Символ_сигнатуры_функции}.
Предупреждение = ": warning: ".	
Ошибка = ": error: ".
Замечание = ": note: ".
Описание = Строка.
Диагностика =
	[Путь_подключения_файла]
	(
		(Путь_к_файлу ": In function '" Сигнатура_функции "':\n") |
		Путь_раскрытия_выражения_в_шаблоне
	)
	Путь_к_файлу ":" Номер_строки ":" Номер_столбца (Ошибка | Предупреждение | Замечание)
	Описание "\n"
	Выдержка_из_кода_с_указаниями.

Вывод = {Диагностика} ["cc1plus: all warnings being treated as errors"] {"\n"}.

Проверка глазами выводов итерации.
E-01.txt подходит под синтаксис.
E-02.txt подходит под синтаксис.
W-01.txt подходит под синтаксис.
W-02.txt подходит под синтаксис.
W-03.txt подходит под синтаксис.

Под этот синтаксис будем разрабатывать парсер.
